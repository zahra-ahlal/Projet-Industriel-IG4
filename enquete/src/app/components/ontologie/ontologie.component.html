<div class="mainscreen">

    <div class="card">
        
        <form [formGroup]="form" (ngSubmit)="submit()" novalidate>

            <h1 class ="title">Ajouter les comp√©tences de votre institut</h1>
            <input #filtre (keyup.enter)="addSkill(filtre.value)" (blur)="addSkill(filtre.value); filtre.value='' ">

            <button type="button" (click)="addSkill(filtre.value)">Chercher</button>

            <div style = "margin : 20px" *ngFor="let skill of skills; let i=index">
              <input type="checkbox" value={{skill}} formArrayName="selectedSkills" (change)="onCheckboxChange($event)" />
              {{skill | titlecase}}
            </div>

            <div style = "margin : 30px" class="conteneur">
                <table *ngFor="let skill of form.value['selectedSkills']; let i=index" class="table table-striped">
                    <thead>
                        <tr >
                        <th>{{skill | titlecase}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let child of getChildren(skill)">
                            <input type="checkbox" value={{child}} formArrayName="selectedSkills" (change)="onCheckboxChange($event)"/>
                            {{child}}
                        </tr>
                    </tbody>
                </table>
            </div>
            
            
            <button type="submit">Submit</button>
        </form>

        <div style = "margin : 30px">
            <p>{{ form.value | json }}</p>
        </div>
    
         
    </div>


    
</div>

    
    
